{"remainingRequest":"/Users/leonhanschmann/Python_projects/PASS-web-app/PASS/node_modules/thread-loader/dist/cjs.js!/Users/leonhanschmann/Python_projects/PASS-web-app/PASS/node_modules/babel-loader/lib/index.js!/Users/leonhanschmann/Python_projects/PASS-web-app/PASS/src/components/SIDflowchart/render.js","dependencies":[{"path":"/Users/leonhanschmann/Python_projects/PASS-web-app/PASS/src/components/SIDflowchart/render.js","mtime":1655113861172},{"path":"/Users/leonhanschmann/Python_projects/PASS-web-app/PASS/babel.config.js","mtime":1654095143863},{"path":"/Users/leonhanschmann/Python_projects/PASS-web-app/PASS/node_modules/cache-loader/dist/cjs.js","mtime":1655376985815},{"path":"/Users/leonhanschmann/Python_projects/PASS-web-app/PASS/node_modules/thread-loader/dist/cjs.js","mtime":1655376985502},{"path":"/Users/leonhanschmann/Python_projects/PASS-web-app/PASS/node_modules/babel-loader/lib/index.js","mtime":1655376985883}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport * as d3 from 'd3';\nimport { roundTo20 } from \"../../utils/math\";\n\nfunction wrap(text, initWidth, initX, initY) {\n  var width = initWidth - 25;\n  text.each(function () {\n    var text = d3.select(this),\n        words = text.text().split(/(?!$)/).reverse(),\n        word,\n        line = [],\n        lineNumber = 0,\n        lineHeight = 1.1,\n        // ems\n    y = text.attr(\"y\"),\n        dy = parseFloat(text.attr(\"dy\")),\n        tspan = text.text(null).append(\"tspan\").attr(\"x\", initX).attr(\"y\", y).attr(\"dy\", dy + \"em\");\n\n    while (word = words.pop()) {\n      line.push(word);\n      tspan.text(line.join(\"\"));\n\n      if (tspan.node().getComputedTextLength() > width || word === \"-\") {\n        line.pop();\n        tspan.text(line.join(\"\"));\n        line = [word];\n        tspan = text.append(\"tspan\").attr(\"x\", initX).attr(\"y\", y).attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\").text(word);\n      }\n    }\n  });\n}\n\nfunction render(g, node, isSelected) {\n  node.width = node.width || 120;\n  node.height = node.height || 140;\n  var borderColor = isSelected ? '#666666' : '#bbbbbb'; // body\n\n  var body = null;\n\n  if (node.type === \"intern\") {\n    // type: intern\n    body = g.append('rect').attr('class', 'body');\n    body.style('width', node.width + 'px').style('fill', 'white').style('stroke-width', '1px');\n    body.attr('x', node.x).attr('y', node.y).attr('rx', 5).style('fill', '#d4e2bd');\n    body.style('height', node.height + 'px');\n    body.attr('stroke', borderColor);\n    g.append('svg:image').attr('x', node.x + 5).attr('y', node.y + 2).attr('width', 15 + 'px').attr('height', 20 + 'px').attr('xlink:href', \"Subjekt.png\");\n  } else {\n    // type: extern\n    var colors = ['white', '#dedddc'];\n    var grad = g.append('defs').append('linearGradient').attr('id', 'grad').attr('x1', '0%').attr('x2', '0%').attr('y1', '0%').attr('y2', '100%');\n    grad.selectAll('stop').data(colors).enter().append('stop').style('stop-color', function (d) {\n      return d;\n    }).attr('offset', function (d, i) {\n      return 100 * (i / (colors.length - 1)) + '%';\n    });\n    body = g.append('rect').attr('class', 'body');\n    body.style('width', node.width + 'px').attr('stroke', 'black').attr(\"stroke-linecap\", 'round').style('stroke-width', '1px');\n    body.attr('x', node.x).attr('y', node.y).attr('rx', 5).style('fill', 'url(#grad)');\n    body.style('height', node.height + 'px');\n\n    if (!isSelected) {\n      body.attr('stroke-dasharray', '2 5');\n    }\n\n    g.append('svg:image').attr('x', node.x + 8).attr('y', node.y + 3).attr('width', 20 + 'px').attr('height', 25 + 'px').attr('xlink:href', \"Interface_Subject_Symbol.png\");\n  } //multi subject \n\n\n  if (node.multiSubject) {\n    body.clone().attr('x', node.x + 5).attr('y', node.y - 2.5).clone().attr('x', node.x).attr('y', node.y);\n    body.attr('x', node.x + 10).attr('y', node.y - 5);\n  } // body text\n\n\n  var text = node.text;\n  var bodyTextY;\n  bodyTextY = node.y + roundTo20(node.height) / 5;\n  g.append('text').attr('x', node.x + node.width / 2).attr('y', bodyTextY).attr('class', 'unselectable').attr('text-anchor', 'middle').text(text).attr('dy', '.71em').call(wrap, node.width, node.x + node.width / 2, node.y);\n}\n\nexport default render;",{"version":3,"names":["d3","roundTo20","wrap","text","initWidth","initX","initY","width","each","select","words","split","reverse","word","line","lineNumber","lineHeight","y","attr","dy","parseFloat","tspan","append","pop","push","join","node","getComputedTextLength","render","g","isSelected","height","borderColor","body","type","style","x","colors","grad","selectAll","data","enter","d","i","length","multiSubject","clone","bodyTextY","call"],"sources":["/Users/leonhanschmann/Python_projects/PASS-web-app/PASS/src/components/SIDflowchart/render.js"],"sourcesContent":["import * as d3 from 'd3';\nimport {roundTo20} from '../../utils/math';\n\n\nfunction wrap(text, initWidth, initX, initY) {\n  let width = initWidth-25\n  text.each(function() {\n    var text = d3.select(this),\n        words = text.text().split(/(?!$)/u).reverse(),\n        word,\n        line = [],\n        lineNumber = 0,\n        lineHeight = 1.1, // ems\n        y = text.attr(\"y\"),\n        dy = parseFloat(text.attr(\"dy\")),\n        tspan = text.text(null).append(\"tspan\").attr(\"x\", initX).attr(\"y\", y).attr(\"dy\", dy + \"em\");\n    while (word = words.pop()) {\n      line.push(word);\n      tspan.text(line.join(\"\"));\n      if (tspan.node().getComputedTextLength() > width || word === \"-\") {\n        line.pop();\n        tspan.text(line.join(\"\"));\n        line = [word];\n        tspan = text.append(\"tspan\").attr(\"x\", initX).attr(\"y\",  y).attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\").text(word);\n      }\n    }\n  });\n}\n\n\n\nfunction render(g, node, isSelected) {\n  node.width = node.width || 120;\n  node.height = node.height || 140;\n  let borderColor = isSelected ? '#666666' : '#bbbbbb';\n\n  // body\n  let body = null;\n  if(node.type === \"intern\"){\n  // type: intern\n    body = g.append('rect').attr('class', 'body');\n    body.style('width', node.width + 'px').\n        style('fill', 'white').\n        style('stroke-width', '1px');\n      body.attr('x', node.x).\n          attr('y', node.y).\n          attr('rx', 5)\n          .style('fill', '#d4e2bd');\n      body.style('height', node.height + 'px');\n    body.attr('stroke', borderColor);\n  \n    g.append('svg:image')\n    .attr('x', node.x + 5)\n    .attr('y', node.y+2)\n    .attr('width', 15 + 'px')\n    .attr('height', 20 + 'px')\n    .attr('xlink:href', \"Subjekt.png\");\n  } else {\n  // type: extern\n  var colors = [ 'white', '#dedddc' ];\n  var grad = g.append('defs')\n  .append('linearGradient')\n  .attr('id', 'grad')\n  .attr('x1', '0%')\n  .attr('x2', '0%')\n  .attr('y1', '0%')\n  .attr('y2', '100%');\n\ngrad.selectAll('stop')\n  .data(colors)\n  .enter()\n  .append('stop')\n  .style('stop-color', function(d){ return d; })\n  .attr('offset', function(d,i){\n    return 100 * (i / (colors.length - 1)) + '%';\n  })\n   body = g.append('rect').attr('class', 'body');\n    body.style('width', node.width + 'px').\n    attr('stroke', 'black')\n    .attr(\"stroke-linecap\", 'round')\n    .\n    style('stroke-width', '1px');\n      body.attr('x', node.x ).\n          attr('y', node.y).\n          attr('rx', 5)\n          .style('fill', 'url(#grad)');\n      body.style('height', node.height + 'px');\n\n      if(!isSelected){\n        body.attr('stroke-dasharray', '2 5')\n      } \n    g.append('svg:image')\n    .attr('x', node.x + 8)\n    .attr('y', node.y+3)\n    .attr('width', 20 + 'px')\n    .attr('height', 25 + 'px')\n    .attr('xlink:href', \"Interface_Subject_Symbol.png\");\n  }\n\n  //multi subject \nif(node.multiSubject){\n  body.clone().attr('x', node.x + 5).\n  attr('y', node.y - 2.5).clone().attr('x', node.x).\n  attr('y', node.y)\n  body.attr('x', node.x + 10).\n  attr('y', node.y - 5)\n}\n  // body text\n  let text = node.text\n  let bodyTextY; \n    bodyTextY = node.y + roundTo20(node.height)/5;\n  \n  g.append('text').\n      attr('x', node.x + node.width / 2).\n      attr('y', bodyTextY).\n      attr('class', 'unselectable').\n      attr('text-anchor', 'middle').\n      text(text)\n      .attr('dy', '.71em')\n      .call(wrap, node.width, (node.x + node.width / 2), node.y);\n\n}\n\n\nexport default render;"],"mappings":"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"}]}